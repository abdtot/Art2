<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a9396">
    <meta name="description" content="تطبيق بيكسل آرت المتخصص في التصميم الجرافيكي - نظام متكامل للتصميم، التوظيف، والتعاون">
    <title>بيكسل آرت | منصة التصميم الجرافيكي المتكاملة</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="assets/icons/icon-192.png">
    <style>
        .skeleton-loader {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 8px;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body>
    <!-- شاشة التحميل -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <div class="loading-logo">
                <div class="logo-animation">
                    <i class="fas fa-palette"></i>
                </div>
                <h1>بيكسل آرت</h1>
            </div>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <span id="loadingText">جاري تحميل التطبيق...</span>
            </div>
        </div>
    </div>

    <!-- شاشة تسجيل الدخول -->
    <div class="auth-screen" id="authScreen">
        <div class="auth-container">
            <div class="auth-header">
                <div class="auth-logo">
                    <i class="fas fa-palette"></i>
                    <h2>بيكسل آرت</h2>
                </div>
                <p class="auth-subtitle">منصة التصميم الجرافيكي المتكاملة</p>
            </div>

            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">تسجيل الدخول</button>
                <button class="auth-tab" data-tab="register">إنشاء حساب</button>
            </div>

            <div class="auth-forms">
                <!-- نموذج تسجيل الدخول -->
                <form class="auth-form active" id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">البريد الإلكتروني</label>
                        <div class="input-with-icon">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="loginEmail" required autocomplete="email">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="loginPassword">كلمة المرور</label>
                        <div class="input-with-icon">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="loginPassword" required autocomplete="current-password">
                            <button type="button" class="password-toggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="form-options">
                            <label class="checkbox-label">
                                <input type="checkbox" id="rememberMe">
                                <span>تذكرني</span>
                            </label>
                            <a href="#" class="forgot-password">نسيت كلمة المرور؟</a>
                        </div>
                    </div>

                    <button type="submit" class="auth-btn" id="loginBtn">
                        <span>تسجيل الدخول</span>
                        <i class="fas fa-sign-in-alt"></i>
                    </button>

                    <div class="auth-divider">
                        <span>أو</span>
                    </div>

                    <div class="social-login">
                        <button type="button" class="social-btn google">
                            <i class="fab fa-google"></i>
                            <span>المتابعة بحساب Google</span>
                        </button>
                        <button type="button" class="social-btn twitter">
                            <i class="fab fa-twitter"></i>
                            <span>المتابعة بحساب Twitter</span>
                        </button>
                    </div>
                </form>

                <!-- نموذج إنشاء حساب -->
                <form class="auth-form" id="registerForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">الاسم الأول</label>
                            <div class="input-with-icon">
                                <i class="fas fa-user"></i>
                                <input type="text" id="firstName" required autocomplete="given-name">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="lastName">الاسم الأخير</label>
                            <div class="input-with-icon">
                                <i class="fas fa-user"></i>
                                <input type="text" id="lastName" required autocomplete="family-name">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="registerEmail">البريد الإلكتروني</label>
                        <div class="input-with-icon">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="registerEmail" required autocomplete="email">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="registerPhone">رقم الهاتف</label>
                        <div class="input-with-icon">
                            <i class="fas fa-phone"></i>
                            <input type="tel" id="registerPhone" required autocomplete="tel">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="userType">نوع الحساب</label>
                        <div class="account-type-selector">
                            <div class="account-type" data-type="client">
                                <i class="fas fa-briefcase"></i>
                                <span>عميل</span>
                                <p>أرغب في طلب خدمات التصميم</p>
                            </div>
                            <div class="account-type" data-type="designer">
                                <i class="fas fa-palette"></i>
                                <span>مصمم</span>
                                <p>أرغب في تقديم خدمات التصميم</p>
                            </div>
                        </div>
                        <input type="hidden" id="userType" value="client">
                    </div>

                    <div class="form-group">
                        <label for="registerPassword">كلمة المرور</label>
                        <div class="input-with-icon">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="registerPassword" required autocomplete="new-password">
                            <button type="button" class="password-toggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="password-strength">
                            <div class="strength-meter">
                                <div class="strength-bar" id="strengthBar"></div>
                            </div>
                            <span id="strengthText">قوة كلمة المرور: ضعيفة</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">تأكيد كلمة المرور</label>
                        <div class="input-with-icon">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="confirmPassword" required autocomplete="new-password">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="termsAgreement" required>
                            <span>أوافق على <a href="#">شروط الخدمة</a> و <a href="#">سياسة الخصوصية</a></span>
                        </label>
                    </div>

                    <button type="submit" class="auth-btn" id="registerBtn">
                        <span>إنشاء حساب</span>
                        <i class="fas fa-user-plus"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- التطبيق الرئيسي -->
    <div class="app-container" id="appContainer">
        <!-- شريط التنقل العلوي -->
        <header class="main-header">
            <div class="header-left">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="logo">
                    <i class="fas fa-palette"></i>
                    <div class="logo-text">
                        <h1>بيكسل آرت</h1>
                        <span class="user-role" id="userRole">عميل</span>
                    </div>
                </div>
            </div>

            <div class="header-search">
                <div class="search-container">
                    <i class="fas fa-search"></i>
                    <input type="text" id="globalSearch" placeholder="ابحث عن تصاميم، مصممين، أو خدمات...">
                    <button class="search-filter" id="searchFilter">
                        <i class="fas fa-filter"></i>
                    </button>
                </div>
            </div>

            <div class="header-right">
                <button class="header-action notification-btn" id="notificationBtn">
                    <i class="fas fa-bell"></i>
                    <span class="notification-count" id="notificationCount">3</span>
                </button>
                
                <button class="header-action chat-btn" id="chatBtn">
                    <i class="fas fa-comments"></i>
                    <span class="chat-indicator" id="unreadMessages">2</span>
                </button>
                
                <div class="user-profile" id="userProfile">
                    <img src="https://ui-avatars.com/api/?name=مستخدم&background=0a9396&color=fff" 
                         alt="الصورة الشخصية" class="profile-image">
                    <div class="profile-info">
                        <span class="profile-name" id="userName">محمد أحمد</span>
                        <span class="profile-balance" id="userBalance">1,250 ريال</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </header>

        <!-- القائمة الجانبية -->
        <aside class="sidebar" id="sidebar">
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h3 class="nav-title">القائمة الرئيسية</h3>
                    <a href="#dashboard" class="nav-item active">
                        <i class="fas fa-home"></i>
                        <span>لوحة التحكم</span>
                    </a>
                    <a href="#explore" class="nav-item">
                        <i class="fas fa-compass"></i>
                        <span>استكشاف التصاميم</span>
                    </a>
                    <a href="#designers" class="nav-item">
                        <i class="fas fa-users"></i>
                        <span>المصممون</span>
                    </a>
                    <a href="#projects" class="nav-item">
                        <i class="fas fa-project-diagram"></i>
                        <span>المشاريع</span>
                        <span class="nav-badge">5</span>
                    </a>
                    <a href="#orders" class="nav-item">
                        <i class="fas fa-shopping-cart"></i>
                        <span>الطلبات</span>
                    </a>
                </div>

                <div class="nav-section">
                    <h3 class="nav-title">التصميم والإبداع</h3>
                    <a href="#design-request" class="nav-item">
                        <i class="fas fa-plus-circle"></i>
                        <span>طلب تصميم جديد</span>
                    </a>
                    <a href="#design-tools" class="nav-item">
                        <i class="fas fa-paint-brush"></i>
                        <span>أدوات التصميم</span>
                    </a>
                    <a href="#templates" class="nav-item">
                        <i class="fas fa-layer-group"></i>
                        <span>القوالب الجاهزة</span>
                        <span class="nav-badge premium">Pro</span>
                    </a>
                    <a href="#ai-design" class="nav-item">
                        <i class="fas fa-robot"></i>
                        <span>التصميم بالذكاء الاصطناعي</span>
                        <span class="nav-badge new">جديد</span>
                    </a>
                </div>

                <div class="nav-section">
                    <h3 class="nav-title">المال والمعاملات</h3>
                    <a href="#wallet" class="nav-item">
                        <i class="fas fa-wallet"></i>
                        <span>المحفظة</span>
                    </a>
                    <a href="#transactions" class="nav-item">
                        <i class="fas fa-exchange-alt"></i>
                        <span>المعاملات</span>
                    </a>
                    <a href="#invoices" class="nav-item">
                        <i class="fas fa-file-invoice"></i>
                        <span>الفواتير</span>
                    </a>
                    <a href="#subscription" class="nav-item">
                        <i class="fas fa-crown"></i>
                        <span>الباقة المميزة</span>
                    </a>
                </div>

                <div class="nav-section">
                    <h3 class="nav-title">التواصل والدعم</h3>
                    <a href="#messages" class="nav-item">
                        <i class="fas fa-envelope"></i>
                        <span>الرسائل</span>
                        <span class="nav-badge">12</span>
                    </a>
                    <a href="#support" class="nav-item">
                        <i class="fas fa-headset"></i>
                        <span>الدعم الفني</span>
                    </a>
                    <a href="#community" class="nav-item">
                        <i class="fas fa-users"></i>
                        <span>المجتمع</span>
                    </a>
                </div>

                <div class="sidebar-footer">
                    <div class="sidebar-upgrade">
                        <h4>ترقية إلى Pro</h4>
                        <p>احصل على مزايا حصرية وأدوات متقدمة</p>
                        <button class="upgrade-btn">ترقية الآن</button>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- المحتوى الرئيسي -->
        <main class="main-content" id="mainContent">
            <!-- لوحة التحكم -->
            <section class="dashboard-section active" id="dashboard">
                <div class="section-header">
                    <h2>لوحة التحكم</h2>
                    <div class="header-actions">
                        <button class="action-btn" id="quickDesignBtn">
                            <i class="fas fa-plus"></i>
                            تصميم سريع
                        </button>
                        <button class="action-btn outline" id="refreshDashboard">
                            <i class="fas fa-sync-alt"></i>
                            تحديث
                        </button>
                    </div>
                </div>

                <!-- إحصائيات سريعة -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-icon">
                            <i class="fas fa-project-diagram"></i>
                        </div>
                        <div class="stat-content">
                            <h3>المشاريع النشطة</h3>
                            <span class="stat-value" id="activeProjects">5</span>
                            <span class="stat-change positive">+2 هذا الشهر</span>
                        </div>
                    </div>

                    <div class="stat-card success">
                        <div class="stat-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="stat-content">
                            <h3>رصيد المحفظة</h3>
                            <span class="stat-value" id="walletBalance">1,250 ريال</span>
                            <span class="stat-change">+500 هذا الأسبوع</span>
                        </div>
                    </div>

                    <div class="stat-card warning">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3>المشاريع قيد الانتظار</h3>
                            <span class="stat-value" id="pendingProjects">3</span>
                            <span class="stat-change">مستحق خلال 7 أيام</span>
                        </div>
                    </div>

                    <div class="stat-card info">
                        <div class="stat-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="stat-content">
                            <h3>التقييم العام</h3>
                            <span class="stat-value" id="userRating">4.8</span>
                            <div class="rating-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- التصاميم المميزة -->
                <div class="featured-section">
                    <div class="section-title">
                        <h3>التصاميم المميزة</h3>
                        <a href="#explore" class="view-all">عرض الكل <i class="fas fa-arrow-left"></i></a>
                    </div>
                    
                    <div class="featured-slider" id="featuredSlider">
                        <!-- سيتم تحميل التصاميم ديناميكياً -->
                    </div>
                </div>

                <!-- المشاريع الحديثة -->
                <div class="recent-projects">
                    <div class="section-title">
                        <h3>مشاريعك الأخيرة</h3>
                        <button class="action-btn small" id="createProjectBtn">
                            <i class="fas fa-plus"></i>
                            مشروع جديد
                        </button>
                    </div>

                    <div class="projects-table">
                        <div class="table-header">
                            <div class="table-cell">اسم المشروع</div>
                            <div class="table-cell">المصمم</div>
                            <div class="table-cell">الحالة</div>
                            <div class="table-cell">التاريخ</div>
                            <div class="table-cell">الإجراءات</div>
                        </div>

                        <div class="table-body" id="projectsTable">
                            <!-- سيتم تحميل المشاريع ديناميكياً -->
                        </div>
                    </div>
                </div>

                <!-- نشاط حديث -->
                <div class="recent-activity">
                    <div class="section-title">
                        <h3>النشاط الحديث</h3>
                    </div>

                    <div class="activity-timeline" id="activityTimeline">
                        <!-- سيتم تحميل النشاط ديناميكياً -->
                    </div>
                </div>
            </section>

            <!-- صفحة استكشاف التصاميم -->
            <section class="explore-section" id="explore">
                <!-- محتوى استكشاف التصاميم -->
            </section>

            <!-- صفحة المصممين -->
            <section class="designers-section" id="designers">
                <!-- محتوى المصممين -->
            </section>

            <!-- صفحة المشاريع -->
            <section class="projects-section" id="projects">
                <!-- محتوى المشاريع -->
            </section>

            <!-- صفحة طلب التصميم -->
            <section class="design-request-section" id="design-request">
                <!-- محتوى طلب التصميم -->
            </section>

            <!-- صفحة أدوات التصميم -->
            <section class="design-tools-section" id="design-tools">
                <!-- محتوى أدوات التصميم -->
            </section>

            <!-- صفحة المحفظة -->
            <section class="wallet-section" id="wallet">
                <!-- محتوى المحفظة -->
            </section>

            <!-- صفحة الدردشة -->
            <section class="chat-section" id="messages">
                <!-- محتوى الدردشة -->
            </section>
        </main>

        <!-- شريط التنقل السفلي للأجهزة المحمولة -->
        <nav class="mobile-bottom-nav">
            <a href="#dashboard" class="mobile-nav-item active">
                <i class="fas fa-home"></i>
                <span>الرئيسية</span>
            </a>
            <a href="#explore" class="mobile-nav-item">
                <i class="fas fa-compass"></i>
                <span>استكشاف</span>
            </a>
            <button class="mobile-nav-center" id="quickActionBtn">
                <i class="fas fa-plus"></i>
            </button>
            <a href="#messages" class="mobile-nav-item">
                <i class="fas fa-comments"></i>
                <span>الدردشة</span>
            </a>
            <a href="#profile" class="mobile-nav-item">
                <i class="fas fa-user"></i>
                <span>حسابي</span>
            </a>
        </nav>

        <!-- قائمة الإجراءات السريعة -->
        <div class="quick-actions-menu" id="quickActionsMenu">
            <div class="quick-actions-header">
                <h3>إجراءات سريعة</h3>
                <button class="close-actions" id="closeActions">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="quick-actions-grid">
                <button class="quick-action" data-action="new-design">
                    <div class="action-icon">
                        <i class="fas fa-palette"></i>
                    </div>
                    <span>طلب تصميم</span>
                </button>
                <button class="quick-action" data-action="hire-designer">
                    <div class="action-icon">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <span>توظيف مصمم</span>
                </button>
                <button class="quick-action" data-action="ai-design">
                    <div class="action-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <span>تصميم بالذكاء الاصطناعي</span>
                </button>
                <button class="quick-action" data-action="upload-design">
                    <div class="action-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <span>رفع تصميم</span>
                </button>
                <button class="quick-action" data-action="create-invoice">
                    <div class="action-icon">
                        <i class="fas fa-file-invoice"></i>
                    </div>
                    <span>إنشاء فاتورة</span>
                </button>
                <button class="quick-action" data-action="schedule-meeting">
                    <div class="action-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <span>جدولة اجتماع</span>
                </button>
            </div>
        </div>
    </div>

    <!-- نافذة الدردشة العائمة -->
    <div class="chat-window" id="chatWindow">
        <div class="chat-header">
            <div class="chat-user-info">
                <img src="https://ui-avatars.com/api/?name=مصمم&background=005f73&color=fff" 
                     alt="المصمم" class="chat-user-img">
                <div class="chat-user-details">
                    <h4>أحمد المصمم</h4>
                    <span class="chat-status online">متصل الآن</span>
                </div>
            </div>
            <div class="chat-actions">
                <button class="chat-action">
                    <i class="fas fa-phone"></i>
                </button>
                <button class="chat-action">
                    <i class="fas fa-video"></i>
                </button>
                <button class="chat-action" id="minimizeChat">
                    <i class="fas fa-minus"></i>
                </button>
                <button class="chat-action" id="closeChat">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        
        <div class="chat-body" id="chatBody">
            <!-- الرسائل تظهر هنا -->
        </div>
        
        <div class="chat-footer">
            <div class="chat-input-container">
                <button class="chat-attachment">
                    <i class="fas fa-paperclip"></i>
                </button>
                <input type="text" class="chat-input" id="chatInput" placeholder="اكتب رسالتك هنا...">
                <button class="chat-emoji">
                    <i class="fas fa-smile"></i>
                </button>
                <button class="chat-send" id="sendMessageBtn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- نافذة الإشعارات -->
    <div class="notifications-panel" id="notificationsPanel">
        <div class="notifications-header">
            <h3>الإشعارات</h3>
            <div class="notifications-actions">
                <button class="action-link" id="markAllRead">تعيين الكل كمقروء</button>
                <button class="action-link" id="clearNotifications">حذف الكل</button>
            </div>
        </div>
        
        <div class="notifications-list" id="notificationsList">
            <!-- الإشعارات تظهر هنا -->
        </div>
    </div>

    <!-- المشغل الموسيقي -->
    <div class="music-player" id="musicPlayer">
        <div class="player-controls">
            <button class="player-btn" id="prevTrack">
                <i class="fas fa-step-backward"></i>
            </button>
            <button class="player-btn play-btn" id="playPause">
                <i class="fas fa-play"></i>
            </button>
            <button class="player-btn" id="nextTrack">
                <i class="fas fa-step-forward"></i>
            </button>
        </div>
        
        <div class="player-info">
            <div class="track-info">
                <span class="track-title">موسيقى إبداعية للتصميم</span>
                <span class="track-artist">بيكسل آرت</span>
            </div>
            <div class="player-progress">
                <input type="range" class="progress-slider" id="progressSlider" min="0" max="100" value="0">
            </div>
        </div>
        
        <div class="player-extra">
            <button class="player-btn" id="playerSettings">
                <i class="fas fa-sliders-h"></i>
            </button>
            <button class="player-btn" id="playerClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- النوافذ المنبثقة والمودالات -->
    <div class="modal-overlay" id="modalOverlay"></div>
    
    <!-- مودال طلب التصميم -->
    <div class="modal" id="designRequestModal">
        <!-- محتوى مودال طلب التصميم -->
    </div>
    
    <!-- مودال الدفع -->
    <div class="modal" id="paymentModal">
        <!-- محتوى مودال الدفع -->
    </div>
    
    <!-- مودال الإحصائيات -->
    <div class="modal" id="analyticsModal">
        <!-- محتوى مودال الإحصائيات -->
    </div>

    <!-- مكتبات JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.0/dist/quill.js"></script>
    <script src="db.js"></script>
    <script src="auth.js"></script>
    <script src="design.js"></script>
    <script src="hiring.js"></script>
    <script src="chat.js"></script>
    <script src="payment.js"></script>
    <script src="analytics.js"></script>
    <script src="app.js"></script>
    
    <!-- تسجيل Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('service-worker.js').then(
                    function(registration) {
                        console.log('ServiceWorker registration successful');
                    },
                    function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    }
                );
            });
        }
    </script>
</body>
</html>